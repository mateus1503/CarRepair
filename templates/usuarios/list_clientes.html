{% extends 'base.html' %}
{% block content %}
    <header>
        <h2>Clientes</h2>
    </header>
	<main>
        {% load static %}
        <link rel="stylesheet" href="{% static 'usuarios/css/listarCliente.css' %}">
            <table>
                {% for cliente in clientes %}
                    <section class="cliente">
                        <h1>ID: {{ cliente.id }}</h1>
                        <h1>Nome: {{ cliente.pessoa.nome }}</h1>
                        <h4>CPF: {{ cliente.pessoa.cpf }}</h4>
                        <h4>Telefone:
                            {% for telefone in cliente.pessoa.telefone.all %}
                                ({{ telefone.codigoArea }}) {{ telefone.celular }}{% if not forloop.last %}, {% endif %}
                            {% endfor %}
                        </h4>
                        <h4>Endereço:
                            {% for endereco in cliente.pessoa.endereco.all %}
                                {{ endereco.logradouro }}, {{ endereco.numero }} - {{ endereco.bairro }}{% if not forloop.last %}, {% endif %}
                            {% endfor %}
                        </h4>
                        <p>
                            <a href="processarOrdemServico?id=${cliente.id}">Realizar Ordem de Serviço</a>
                            <a href="cadastrarVeiculo.jsp?id=${cliente.id}">Cadastrar Veículo</a>
                            <a href="listarVeiculo.jsp?id=${cliente.id}">Listar Veículos</a>
                            <a href="listarOrdemServico?id=${cliente.id}">Ordem de Serviços</a>
                            <a href="editarCliente.jsp?id=${cliente.id}&nome=${cliente.nome}&endereco=${cliente.endereco}&telefone=${cliente.telefone}&cpf=${cliente.cpf}">Editar Dados</a>
                            <a href="deletarCliente?id=${cliente.id}">Deletar Cliente</a>
                        </p>
                    </section>
                {% endfor %}
          </table>
    </main>
{% endblock content %}